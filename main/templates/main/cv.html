{% extends 'main/base.html' %} {% block content %}

<section class="bg-gray-800 p-6 mt-10 rounded-xl shadow-lg max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-cyan-400 mb-4 border-b border-gray-600 pb-2">üìù Summary</h2>
    <p class="text-white text-lg leading-relaxed">{{ summary|linebreaks }}</p>
</section>

<div id="printModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start overflow-auto pt-10">
    <div id="printArea" class="bg-white text-black p-6 rounded-lg w-full max-w-4xl shadow-xl">
        <button onclick="closePrintModal()" class="float-right text-xl text-black font-bold mb-4">√ó</button>

        <h2 class="text-2xl font-bold mb-4">üìù Summary</h2>
        <p>{{ summary|linebreaks }}</p>

        <hr class="my-4">

        <h2 class="text-2xl font-bold mb-4">üíº Experience</h2>
        {% for exp in experiences %}
        <p><strong>{{ exp.position }}</strong> at {{ exp.company }} ({{ exp.start_date }} to {{ exp.end_date }})</p>
        <p class="mb-3">{{ exp.description }}</p>
        {% endfor %}

        <h2 class="text-2xl font-bold mt-6 mb-4">üéì Education</h2>
        {% for edu in educations %}
        <p>{{ edu.name }} - {{ edu.institution }} ({{ edu.issue_date }})</p>
        {% if edu.specialization %}
        <p>Specialization: {{ edu.specialization }}</p>{% endif %} {% endfor %}

        <h2 class="text-2xl font-bold mt-6 mb-4">üó£ Languages</h2>
        {% for lang in languages %}
        <p>{{ lang.language }} - {{ lang.level }}</p>
        {% endfor %}

        <h2 class="text-2xl font-bold mt-6 mb-4">ü§ù Volunteering</h2>
        {% for v in volunteerings %}
        <p>{{ v.activity }} at {{ v.institution }} ({{ v.dates }})</p>
        {% endfor %}

        <h2 class="text-2xl font-bold mt-6 mb-4">üß† Skills</h2>
        {% for s in skills %}
        <p>{{ s.skill }} - {{ s.level }}</p>
        {% endfor %}

        <h2 class="text-2xl font-bold mt-6 mb-4">üìû Contact</h2>
        <p>Email: alyabouelnassr76@gmail.com</p>
        <p>Phone: +201155246483</p>
        <p>Instagram: @abou_elnasr</p>

        <div class="text-center mt-8">
            <button onclick="printDiv()" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-6 rounded">
                üñ® Print Me
            </button>
        </div>
    </div>
</div>

<section class="bg-gray-800 p-8 rounded-xl shadow-lg mt-10 max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-cyan-400 mb-6 border-b border-gray-600 pb-2">üíº Experience</h2>

    <table class="w-full text-white bg-gray-900 rounded-lg overflow-hidden">
        <thead class="bg-gray-700 text-cyan-300">
            <tr>
                <th class="py-2 px-4">Position</th>
                <th class="py-2 px-4">Company</th>
                <th class="py-2 px-4">Dates</th>
                <th class="py-2 px-4">Description</th>
            </tr>
        </thead>
        <tbody>
            {% for exp in experiences %}
            <tr class="border-t border-gray-600">
                <td class="py-2 px-4">{{ exp.position }}</td>
                <td class="py-2 px-4">{{ exp.company }}</td>
                <td class="py-2 px-4">{{ exp.start_date }} - {{ exp.end_date|default:"Present" }}</td>
                <td class="py-2 px-4">{{ exp.description }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="text-center text-gray-400 py-4">No experience listed yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
<section class="bg-gray-800 p-8 rounded-xl shadow-lg mt-10 max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-cyan-400 mb-6 border-b border-gray-600 pb-2">üéì Education & Certificates</h2>

    <table class="w-full text-white bg-gray-900 rounded-lg overflow-hidden">
        <thead class="bg-gray-700 text-cyan-300">
            <tr>
                <th class="py-2 px-4">Name</th>
                <th class="py-2 px-4">Institution</th>
                <th class="py-2 px-4">Issue Date</th>
                <th class="py-2 px-4">Specialization</th>
            </tr>
        </thead>
        <tbody>
            {% for edu in educations %}
            <tr class="border-t border-gray-600">
                <td class="py-2 px-4">{{ edu.name }}</td>
                <td class="py-2 px-4">{{ edu.institution }}</td>
                <td class="py-2 px-4">{{ edu.issue_date }}</td>
                <td class="py-2 px-4">{{ edu.specialization|default:"‚Äî" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="text-center text-gray-400 py-4">No education listed yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
<section class="bg-gray-800 p-8 rounded-xl shadow-lg mt-10 max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-cyan-400 mb-6 border-b border-gray-600 pb-2">üß† Skills</h2>

    <table class="w-full text-white bg-gray-900 rounded-lg overflow-hidden">
        <thead class="bg-gray-700 text-cyan-300">
            <tr>
                <th class="py-2 px-4">Skill</th>
                <th class="py-2 px-4">Level</th>
            </tr>
        </thead>
        <tbody>
            {% for s in skills %}
            <tr class="border-t border-gray-600">
                <td class="py-2 px-4">{{ s.skill }}</td>
                <td class="py-2 px-4">{{ s.level }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="2" class="text-center text-gray-400 py-4">No skills listed yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<section class="bg-gray-800 p-8 rounded-xl shadow-lg mt-10 max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-cyan-400 mb-6 border-b border-gray-600 pb-2">ü§ù Volunteering Activities</h2>

    <table class="w-full text-white bg-gray-900 rounded-lg overflow-hidden">
        <thead class="bg-gray-700 text-cyan-300">
            <tr>
                <th class="py-2 px-4">Activity</th>
                <th class="py-2 px-4">Dates</th>
                <th class="py-2 px-4">Institution</th>
            </tr>
        </thead>
        <tbody>
            {% for v in volunteerings %}
            <tr class="border-t border-gray-600">
                <td class="py-2 px-4">{{ v.activity }}</td>
                <td class="py-2 px-4">{{ v.dates }}</td>
                <td class="py-2 px-4">{{ v.institution }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3" class="text-center text-gray-400 py-4">No volunteering activities listed yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<section class="bg-gray-800 p-8 rounded-xl shadow-lg mt-10 max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold text-cyan-400 mb-6 border-b border-gray-600 pb-2">üó£ Languages</h2>

    <table class="w-full text-white bg-gray-900 rounded-lg overflow-hidden">
        <thead class="bg-gray-700 text-cyan-300">
            <tr>
                <th class="py-2 px-4">Language</th>
                <th class="py-2 px-4">Level</th>
            </tr>
        </thead>
        <tbody>
            {% for lang in languages %}
            <tr class="border-t border-gray-600">
                <td class="py-2 px-4">{{ lang.language }}</td>
                <td class="py-2 px-4">{{ lang.level }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="2" class="text-center text-gray-400 py-4">No languages listed yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
<div class="text-center my-6">
    <button onclick="openPrintModal()" class="bg-cyan-500 hover:bg-cyan-600 text-white font-semibold py-2 px-6 rounded transition">
        üñ® Print CV
    </button>
</div>
<script>
    function openPrintModal() {
        document.getElementById("printModal").classList.remove("hidden");
    }

    function closePrintModal() {
        document.getElementById("printModal").classList.add("hidden");
    }

    function printDiv() {
        let printContent = document.getElementById("printArea").innerHTML;
        let win = window.open('', '', 'height=800,width=1000');
        win.document.write('<html><head><title>Print CV</title>');
        win.document.write('<style>body{font-family:sans-serif;padding:20px;} h2{margin-top:1.5rem;}</style>');
        win.document.write('</head><body>');
        win.document.write(printContent);
        win.document.write('</body></html>');
        win.document.close();
        win.print();
    }
</script>

{% endblock %}